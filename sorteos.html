<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sorteos Halloween üéÉ</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: "Poppins", Arial, sans-serif;
      background: radial-gradient(circle at center, #0d0d0d, #000000 90%);
      color: #ffb347;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }

    canvas#webCanvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
      width: 100%;
      height: 100%;
      pointer-events: none; /* No bloquea clics */
    }

    header, section, a {
      position: relative;
      z-index: 2;
    }

    header {
      text-align: center;
      font-size: 2.3rem;
      padding: 1.5rem;
      background: linear-gradient(90deg, #ff7518, #000, #ff7518);
      color: #ffeb99;
      text-shadow: 0 0 20px #ff7518, 0 0 40px #ffb347;
      border-bottom: 3px solid #ff7518;
      animation: destello 2.5s infinite alternate;
    }

    @keyframes destello {
      from { text-shadow: 0 0 10px #ff7518; }
      to { text-shadow: 0 0 30px #ffa500, 0 0 60px #ff7518; }
    }

    section {
      max-width: 850px;
      margin: 40px auto;
      background: rgba(255, 165, 0, 0.05);
      border: 2px solid rgba(255, 102, 0, 0.3);
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(255, 140, 0, 0.3);
      padding: 25px;
      backdrop-filter: blur(6px);
      transition: transform 0.4s, box-shadow 0.4s;
    }

    section:hover {
      transform: scale(1.03);
      box-shadow: 0 0 40px rgba(255, 165, 0, 0.7);
    }

    h2 {
      text-align: center;
      color: #ffa500;
      text-shadow: 0 0 20px #ffb347, 0 0 30px #ff7518;
      margin-bottom: 20px;
    }

    ul { list-style: none; padding: 0; }

    li {
      margin: 15px 0;
      background: rgba(255, 140, 0, 0.1);
      border: 1px solid rgba(255, 165, 0, 0.3);
      padding: 15px;
      border-radius: 12px;
      color: #fff3e0;
      text-align: center;
      transition: background 0.3s;
    }

    li:hover { background: rgba(255, 140, 0, 0.25); }

    img {
      width: 180px;
      border-radius: 12px;
      margin: 10px 0;
      box-shadow: 0 0 15px rgba(255, 102, 0, 0.5);
      transition: transform 0.3s;
    }

    img:hover { transform: scale(1.1); }

    .btn {
      display: inline-block;
      background: linear-gradient(45deg, #ff7518, #ffb347);
      color: black;
      padding: 10px 22px;
      border-radius: 10px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 0 0 20px #ff7518;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .btn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 40px #ffa500;
    }

    #concursantes {
      margin-top: 30px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 140, 0, 0.4);
      border-radius: 15px;
    }

    #concursantes h3 {
      color: #ffb347;
      text-shadow: 0 0 15px #ff7518;
    }

    #contador {
      font-size: 1.8rem;
      color: #ffeb99;
      text-align: center;
      text-shadow: 0 0 15px #ff7518;
    }

    #volverHome {
      display: block;
      margin: 40px auto;
      width: fit-content;
      padding: 12px 25px;
      background: linear-gradient(45deg, #ffb347, #ff7518);
      color: black;
      font-weight: bold;
      border-radius: 10px;
      text-decoration: none;
      box-shadow: 0 0 20px #ff7518;
      transition: transform 0.3s;
    }

    #volverHome:hover {
      transform: scale(1.1);
      box-shadow: 0 0 40px #ffa500;
    }
  </style>
</head>
<body>
  <!-- Telara√±a -->
  <canvas id="webCanvas"></canvas>

  <header>üéÉ BIENVENIDO AL SORTEO HALLOWEEN üéÉ</header>

  <section>
    <h2>üï∏Ô∏è Premios Terror√≠ficamente Geniales</h2>
    <ul>
      <li>
        üì± Smartphone del Terror <br>
        <img src="https://images.unsplash.com/photo-1598327105586-290ddc6c2930?w=600" alt="Smartphone Halloween">
        <br>
        <a href="https://wa.me/51999999999?text=Hola,%20quiero%20participar%20por%20el%20Smartphone%20Halloween" class="btn" target="_blank">Participar</a>
      </li>
      <li>
        üéß Aud√≠fonos del Inframundo <br>
        <img src="https://images.unsplash.com/photo-1585386959984-a41552231693?w=600" alt="Aud√≠fonos Gamer Halloween">
        <br>
        <a href="https://wa.me/51999999999?text=Hola,%20quiero%20participar%20por%20los%20Aud√≠fonos%20Halloween" class="btn" target="_blank">Participar</a>
      </li>
      <li>
        üí≥ Tarjeta de Regalo Fantasmal <br>
        <img src="https://images.unsplash.com/photo-1611733176684-1c1b9e7c1b6d?w=600" alt="Tarjeta Regalo Halloween">
        <br>
        <a href="https://wa.me/51999999999?text=Hola,%20quiero%20participar%20por%20la%20Tarjeta%20Halloween" class="btn" target="_blank">Participar</a>
      </li>
    </ul>

    <div id="concursantes">
      <h3>üï∑Ô∏è Concursantes Registrados</h3>
      <p>Aqu√≠ aparecer√°n los nombres de los valientes participantes...</p>
    </div>
  </section>

  <section>
    <h2>üèÜ Ranking de Ganadores</h2>
    <ul>
      <li>1. Samir üëª - 3 premios</li>
      <li>2. Heiner üï∏Ô∏è - 2 premios</li>
      <li>3. Ana ü¶á - 1 premio</li>
    </ul>
  </section>

  <section>
    <h2>‚è≥ Pr√≥ximo sorteo en:</h2>
    <div id="contador">Cargando...</div>
  </section>

  <a id="volverHome" href="#" onclick="volverHome()">üè† Volver al Inicio</a>

  <script>
    /* === SEGURIDAD MANTENIDA === */
    const autenticado = sessionStorage.getItem("autenticado");
    const referrer = document.referrer;
    if (autenticado !== "true" && !referrer.includes("home.html")) {
      window.location.href = "index.html";
    }

    function volverHome() {
      window.location.href = "home.html";
    }

    /* === CONTADOR === */
    const fechaSorteo = new Date("Oct 31, 2025 23:59:59").getTime();
    const x = setInterval(() => {
      const ahora = new Date().getTime();
      const distancia = fechaSorteo - ahora;
      const dias = Math.floor(distancia / (1000 * 60 * 60 * 24));
      const horas = Math.floor((distancia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutos = Math.floor((distancia % (1000 * 60 * 60)) / (1000 * 60));
      const segundos = Math.floor((distancia % (1000 * 60)) / 1000);
      document.getElementById("contador").innerHTML =
        dias + "d " + horas + "h " + minutos + "m " + segundos + "s";
      if (distancia < 0) {
        clearInterval(x);
        document.getElementById("contador").innerHTML = "¬°El sorteo ha comenzado! üéÉ";
      }
    }, 1000);

    /* === TELARA√ëA INTERACTIVA === */
    const canvas = document.getElementById('webCanvas');
    const ctx = canvas.getContext('2d');
    let width = canvas.width = window.innerWidth;
    let height = canvas.height = window.innerHeight;
    const puntos = [];
    const numPuntos = 100;

    for (let i = 0; i < numPuntos; i++) {
      puntos.push({
        x: Math.random() * width,
        y: Math.random() * height,
        vx: (Math.random() - 0.5) * 0.5,
        vy: (Math.random() - 0.5) * 0.5
      });
    }

    let mouse = { x: null, y: null };
    window.addEventListener('mousemove', e => {
      mouse.x = e.x;
      mouse.y = e.y;
    });

    function animar() {
      ctx.clearRect(0, 0, width, height);
      for (let i = 0; i < numPuntos; i++) {
        const p = puntos[i];
        p.x += p.vx;
        p.y += p.vy;

        if (p.x < 0 || p.x > width) p.vx *= -1;
        if (p.y < 0 || p.y > height) p.vy *= -1;

        ctx.beginPath();
        ctx.arc(p.x, p.y, 1.2, 0, Math.PI * 2);
        ctx.fillStyle = "rgba(255,165,0,0.7)";
        ctx.fill();

        for (let j = i + 1; j < numPuntos; j++) {
          const p2 = puntos[j];
          const dx = p.x - p2.x;
          const dy = p.y - p2.y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < 120) {
            ctx.beginPath();
            ctx.strokeStyle = `rgba(255,140,0,${1 - dist / 120})`;
            ctx.lineWidth = 0.5;
            ctx.moveTo(p.x, p.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.stroke();
          }
        }

        if (mouse.x && Math.abs(mouse.x - p.x) < 120 && Math.abs(mouse.y - p.y) < 120) {
          ctx.beginPath();
          ctx.strokeStyle = "rgba(255,255,255,0.4)";
          ctx.moveTo(p.x, p.y);
          ctx.lineTo(mouse.x, mouse.y);
          ctx.stroke();
        }
      }
      requestAnimationFrame(animar);
    }

    animar();
    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    });
  </script>
</body>
</html>
